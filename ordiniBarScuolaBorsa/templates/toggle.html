<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stato Bar — Scuola Borsa</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Playfair+Display:ital,wght@1,700&display=swap" rel="stylesheet"/>
<style>
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
:root { --red:#e63946; }
body {
  font-family:'Montserrat',sans-serif;
  min-height:100vh; color:white;
  display:flex; align-items:center; justify-content:center;
  position:relative; overflow:hidden;
}
.bg-image {
  position:fixed; inset:0; z-index:0;
  background:url('https://raw.githubusercontent.com/profnicotra/ordini-bar-scuola-borsa/main/ordiniBarScuolaBorsa/static/open%20o%20close.jpg') center/cover no-repeat;
  filter:brightness(0.22) saturate(0.6);
}
.bg-overlay {
  position:fixed; inset:0; z-index:1;
  background:radial-gradient(ellipse at 50% 50%, rgba(110,30,30,0.35) 0%, transparent 70%);
}
.bg-texture {
  position:fixed; inset:0; z-index:2; pointer-events:none;
  background-image:radial-gradient(circle at 1px 1px, rgba(255,255,255,0.02) 1px, transparent 0);
  background-size:28px 28px;
}
.content {
  position:relative; z-index:3;
  display:flex; flex-direction:column; align-items:center; padding:20px;
  animation:fadeUp 0.8s ease both;
}
@keyframes fadeUp { from{opacity:0;transform:translateY(28px)} to{opacity:1;transform:translateY(0)} }

.logo-wrap { display:flex; flex-direction:column; align-items:center; gap:10px; margin-bottom:44px; }
.logo-wrap img { width:70px; height:70px; object-fit:contain; filter:drop-shadow(0 0 16px rgba(230,57,70,0.45)); }
.logo-wrap .subbrand { font-size:10px; font-weight:600; letter-spacing:5px; text-transform:uppercase; color:rgba(255,255,255,0.32); }
.logo-wrap .brand { font-family:'Playfair Display',serif; font-size:26px; font-weight:700; font-style:italic; color:white; }

.toggle-card {
  width:100%; max-width:400px;
  background:rgba(12,4,4,0.9); backdrop-filter:blur(28px);
  border:1px solid rgba(255,255,255,0.1); border-radius:26px;
  padding:44px 36px; text-align:center; position:relative; overflow:hidden;
  box-shadow:0 28px 70px rgba(0,0,0,0.75), inset 0 1px 0 rgba(255,255,255,0.06);
}
.toggle-card::before {
  content:""; position:absolute; top:0; left:0; right:0; height:2px;
  background:linear-gradient(90deg, transparent, rgba(230,57,70,0.7), transparent);
}

.status-pill {
  display:inline-flex; align-items:center; gap:9px;
  padding:9px 20px; border-radius:50px;
  font-size:10px; font-weight:800; letter-spacing:3px; text-transform:uppercase;
  margin-bottom:28px;
}
.status-pill.aperto { background:rgba(74,222,128,0.1); border:1px solid rgba(74,222,128,0.28); color:#4ade80; }
.status-pill.chiuso { background:rgba(230,57,70,0.1); border:1px solid rgba(230,57,70,0.3); color:#ff8080; }
.status-dot { width:8px; height:8px; border-radius:50%; flex-shrink:0; animation:pulseDot 2s infinite; }
.status-pill.aperto .status-dot { background:#4ade80; box-shadow:0 0 8px rgba(74,222,128,0.9); }
.status-pill.chiuso .status-dot { background:#ff8080; box-shadow:0 0 8px rgba(230,57,70,0.9); }
@keyframes pulseDot { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.6;transform:scale(1.4)} }

.toggle-title {
  font-family:'Playfair Display',serif;
  font-size:clamp(38px,9vw,58px); font-weight:700; font-style:italic;
  color:white; line-height:1.05; margin-bottom:10px;
}
.toggle-sub { font-size:13px; color:rgba(255,255,255,0.38); line-height:1.75; margin-bottom:38px; }

.toggle-btn {
  width:100%; padding:20px; border:none; border-radius:14px; cursor:pointer;
  font-family:'Montserrat',sans-serif; font-size:13px; font-weight:800;
  letter-spacing:3px; text-transform:uppercase; color:white;
  transition:all 0.35s ease;
}
.toggle-btn.aperto {
  background:linear-gradient(135deg,#7f1d1d,#e63946);
  box-shadow:0 8px 32px rgba(230,57,70,0.5), inset 0 1px 0 rgba(255,255,255,0.1);
}
.toggle-btn.chiuso {
  background:linear-gradient(135deg,#065f46,#059669);
  box-shadow:0 8px 32px rgba(5,150,105,0.45), inset 0 1px 0 rgba(255,255,255,0.1);
}
.toggle-btn.aperto:hover { transform:translateY(-4px); box-shadow:0 16px 44px rgba(230,57,70,0.65); }
.toggle-btn.chiuso:hover { transform:translateY(-4px); box-shadow:0 16px 44px rgba(5,150,105,0.6); }

@media (max-width:480px) {
  .toggle-card { padding:34px 22px; }
  .logo-wrap { margin-bottom:30px; }
}
</style>
</head>
<body>

<div class="bg-image"></div>
<div class="bg-overlay"></div>
<div class="bg-texture"></div>

<div class="content">
  <div class="logo-wrap">
    <img src="https://raw.githubusercontent.com/Rashmika274/ordini-bar-scuola-borsa/main/static/logo.png" alt="Logo">
    <span class="subbrand">Sala &amp; Bar</span>
    <span class="brand">Scuola Borsa</span>
  </div>

  <div class="toggle-card">
    {% if bar_open == 'true' %}
      <div class="status-pill aperto"><div class="status-dot"></div>Bar Aperto</div>
      <div class="toggle-title">Siamo Aperti</div>
      <p class="toggle-sub">Il servizio è attivo.<br>Gli studenti possono ordinare online.</p>
      <form method="post" action="{{ url_for('toggle.changeBarStatus') }}">
        <button type="submit" class="toggle-btn aperto">⏻ &nbsp;Chiudi il Bar</button>
      </form>
    {% else %}
      <div class="status-pill chiuso"><div class="status-dot"></div>Bar Chiuso</div>
      <div class="toggle-title">Siamo Chiusi</div>
      <p class="toggle-sub">Il servizio è sospeso.<br>Premi per riaprire il bar.</p>
      <form method="post" action="{{ url_for('toggle.changeBarStatus') }}">
        <button type="submit" class="toggle-btn chiuso">⏻ &nbsp;Apri il Bar</button>
      </form>
    {% endif %}
  </div>
</div>

</body>
</html>