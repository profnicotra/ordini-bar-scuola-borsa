<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Login — Bar Scuola Borsa</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Playfair+Display:ital,wght@1,700&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<style>
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
:root { --red:#e63946; --dark:#080404; }
body {
  font-family:'Montserrat',sans-serif;
  background:
    radial-gradient(ellipse at 20% 40%, rgba(110,30,30,0.35) 0%, transparent 55%),
    radial-gradient(ellipse at 80% 70%, rgba(70,15,15,0.28) 0%, transparent 50%),
    linear-gradient(135deg,#0a0404 0%,#120505 50%,#0d0404 100%);
  min-height:100vh; color:white; overflow:hidden;
  display:flex; align-items:center; justify-content:center;
}
body::before {
  content:""; position:fixed; inset:0; pointer-events:none; z-index:0;
  background-image:radial-gradient(circle at 1px 1px,rgba(255,255,255,0.025) 1px,transparent 0);
  background-size:28px 28px;
}

/* Decorative circles */
.deco-circle {
  position:fixed; border-radius:50%; pointer-events:none; z-index:0;
}
.deco-circle-1 {
  width:500px; height:500px; top:-150px; left:-150px;
  background:radial-gradient(circle, rgba(230,57,70,0.07) 0%, transparent 70%);
}
.deco-circle-2 {
  width:400px; height:400px; bottom:-100px; right:-100px;
  background:radial-gradient(circle, rgba(178,34,34,0.08) 0%, transparent 70%);
}

.login-wrapper {
  position:relative; z-index:1;
  display:flex; flex-direction:column; align-items:center;
  padding:20px; width:100%;
  animation:fadeUp 0.7s ease both;
}
@keyframes fadeUp { from{opacity:0;transform:translateY(24px)} to{opacity:1;transform:translateY(0)} }

/* LOGO */
.login-logo { display:flex; align-items:center; gap:12px; margin-bottom:36px; }
.login-logo img { width:54px; height:54px; object-fit:contain; filter:drop-shadow(0 0 10px rgba(230,57,70,0.4)); }
.login-logo-text { display:flex; flex-direction:column; line-height:1.2; }
.login-logo-text .ls { font-size:10px; font-weight:400; letter-spacing:3.5px; text-transform:uppercase; color:rgba(255,255,255,0.35); }
.login-logo-text .lm { font-size:15px; font-weight:800; letter-spacing:2px; text-transform:uppercase; color:white; }

/* CARD */
.login-card {
  width:100%; max-width:420px;
  background:rgba(14,5,5,0.9); backdrop-filter:blur(24px);
  border:1px solid rgba(255,255,255,0.1); border-radius:24px;
  padding:40px 36px;
  box-shadow:0 28px 70px rgba(0,0,0,0.7), inset 0 1px 0 rgba(255,255,255,0.06);
  position:relative; overflow:hidden;
}
.login-card::before {
  content:""; position:absolute; top:0; left:0; right:0; height:2px;
  background:linear-gradient(90deg,transparent,rgba(230,57,70,0.7),transparent);
}

/* TABS */
.auth-tabs { display:flex; gap:4px; background:rgba(255,255,255,0.05); border-radius:12px; padding:4px; margin-bottom:30px; }
.auth-tab {
  flex:1; padding:10px; border-radius:9px; border:none;
  font-family:'Montserrat',sans-serif; font-size:12px; font-weight:800;
  letter-spacing:1.5px; text-transform:uppercase; cursor:pointer;
  transition:all 0.25s ease; color:rgba(255,255,255,0.4); background:transparent;
}
.auth-tab.active {
  background:linear-gradient(135deg,#b22222,#e63946);
  color:white; box-shadow:0 4px 16px rgba(230,57,70,0.4);
}

/* FORM TITLE */
.form-title { font-family:'Playfair Display',serif; font-size:26px; font-weight:700; font-style:italic; color:white; margin-bottom:6px; }
.form-sub { font-size:13px; color:rgba(255,255,255,0.38); margin-bottom:28px; line-height:1.6; }

/* FIELD */
.field-group { margin-bottom:14px; }
.field-label { font-size:10px; font-weight:800; letter-spacing:3px; text-transform:uppercase; color:rgba(255,255,255,0.32); margin-bottom:8px; display:block; }
.field-wrap { position:relative; }
.field-icon { position:absolute; left:16px; top:50%; transform:translateY(-50%); color:rgba(255,255,255,0.28); font-size:14px; pointer-events:none; }
.field-input {
  width:100%; background:rgba(255,255,255,0.07); border:1px solid rgba(255,255,255,0.12);
  border-radius:12px; padding:14px 16px 14px 44px;
  font-size:14px; font-weight:600; font-family:'Montserrat',sans-serif;
  color:white; outline:none; transition:all 0.25s ease;
}
.field-input::placeholder { color:rgba(255,255,255,0.28); font-weight:400; }
.field-input:focus { border-color:rgba(230,57,70,0.55); background:rgba(255,255,255,0.1); }
.toggle-pass {
  position:absolute; right:14px; top:50%; transform:translateY(-50%);
  background:none; border:none; color:rgba(255,255,255,0.3); cursor:pointer; font-size:14px;
  transition:color 0.2s ease;
}
.toggle-pass:hover { color:rgba(255,255,255,0.7); }

.forgot { text-align:right; margin:-6px 0 14px; }
.forgot a { font-size:12px; color:rgba(255,255,255,0.35); text-decoration:none; transition:color 0.2s; }
.forgot a:hover { color:#ff8080; }

/* DIVIDER */
.or-divider { display:flex; align-items:center; gap:14px; margin:22px 0; }
.or-divider .line { flex:1; height:1px; background:rgba(255,255,255,0.08); }
.or-divider span { font-size:11px; color:rgba(255,255,255,0.25); letter-spacing:1px; }

/* GOOGLE BTN */
.btn-google {
  width:100%; padding:14px; border-radius:12px;
  background:rgba(255,255,255,0.07); border:1px solid rgba(255,255,255,0.14);
  color:white; font-family:'Montserrat',sans-serif; font-weight:700;
  font-size:13px; letter-spacing:1px; cursor:pointer;
  transition:all 0.25s ease; display:flex; align-items:center; justify-content:center; gap:10px;
}
.btn-google:hover { background:rgba(255,255,255,0.12); border-color:rgba(255,255,255,0.25); transform:translateY(-2px); }
.btn-google img { width:18px; height:18px; }

/* SUBMIT BTN */
.btn-submit {
  width:100%; padding:16px; margin-top:8px;
  background:linear-gradient(135deg,#b22222,#e63946);
  color:white; border:none; border-radius:12px;
  font-weight:800; font-size:13px; letter-spacing:2px; text-transform:uppercase;
  cursor:pointer; font-family:'Montserrat',sans-serif;
  transition:all 0.3s ease; box-shadow:0 6px 24px rgba(230,57,70,0.4), inset 0 1px 0 rgba(255,255,255,0.1);
  display:flex; align-items:center; justify-content:center; gap:10px;
}
.btn-submit:hover { transform:translateY(-3px); box-shadow:0 12px 32px rgba(230,57,70,0.55); }

/* PANELS */
#panel-register { display:none; }

@media (max-width:480px) {
  .login-card { padding:30px 22px; border-radius:20px; }
  .form-title { font-size:22px; }
}
</style>
</head>
<body>

<div class="deco-circle deco-circle-1"></div>
<div class="deco-circle deco-circle-2"></div>

<div class="login-wrapper">

  <!-- LOGO -->
  <div class="login-logo">
    <img src="https://raw.githubusercontent.com/Rashmika274/ordini-bar-scuola-borsa/main/static/logo.png" alt="Logo">
    <div class="login-logo-text">
      <span class="ls">Sala &amp; Bar</span>
      <span class="lm">Scuola Borsa</span>
    </div>
  </div>

  <div class="login-card">

    <!-- TABS -->
    <div class="auth-tabs">
      <button class="auth-tab active" id="tab-login" onclick="showPanel('login')">Accedi</button>
      <button class="auth-tab" id="tab-register" onclick="showPanel('register')">Registrati</button>
    </div>

    <!-- LOGIN PANEL -->
    <div id="panel-login">
      <div class="form-title">Bentornato</div>
      <p class="form-sub">Accedi per ordinare con i tuoi dati salvati.</p>

      <!-- Google OAuth -->
      <a href="{{ url_for('auth.login') }}" class="btn-google" style="text-decoration:none;">
        <svg width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
          <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
          <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
          <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
        </svg>
        Continua con Google
      </a>

      <div class="or-divider"><div class="line"></div><span>oppure</span><div class="line"></div></div>

      <form action="/login" method="POST">
        <div class="field-group">
          <label class="field-label">Username</label>
          <div class="field-wrap">
            <i class="field-icon fas fa-user"></i>
            <input class="field-input" type="text" name="username" placeholder="Il tuo username" required/>
          </div>
        </div>
        <div class="field-group">
          <label class="field-label">Password</label>
          <div class="field-wrap">
            <i class="field-icon fas fa-lock"></i>
            <input class="field-input" type="password" name="password" id="pw-login" placeholder="••••••••" required/>
            <button type="button" class="toggle-pass" onclick="togglePw('pw-login',this)"><i class="fas fa-eye"></i></button>
          </div>
        </div>
        <div class="forgot"><a href="#">Password dimenticata?</a></div>
        <button class="btn-submit" type="submit"><i class="fas fa-sign-in-alt"></i> Accedi</button>
      </form>
    </div>

    <!-- REGISTER PANEL -->
    <div id="panel-register">
      <div class="form-title">Crea account</div>
      <p class="form-sub">Registrati per un'esperienza personalizzata.</p>

      <form action="/register" method="POST">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          <div class="field-group">
            <label class="field-label">Nome</label>
            <div class="field-wrap">
              <i class="field-icon fas fa-user"></i>
              <input class="field-input" type="text" name="nome" placeholder="Nome" required/>
            </div>
          </div>
          <div class="field-group">
            <label class="field-label">Cognome</label>
            <div class="field-wrap">
              <i class="field-icon fas fa-user"></i>
              <input class="field-input" type="text" name="cognome" placeholder="Cognome" required/>
            </div>
          </div>
        </div>
        <div class="field-group">
          <label class="field-label">Email</label>
          <div class="field-wrap">
            <i class="field-icon fas fa-envelope"></i>
            <input class="field-input" type="email" name="email" placeholder="email@esempio.it" required/>
          </div>
        </div>
        <div class="field-group">
          <label class="field-label">Password</label>
          <div class="field-wrap">
            <i class="field-icon fas fa-lock"></i>
            <input class="field-input" type="password" name="password" id="pw-reg" placeholder="••••••••" required/>
            <button type="button" class="toggle-pass" onclick="togglePw('pw-reg',this)"><i class="fas fa-eye"></i></button>
          </div>
        </div>
        <div class="field-group">
          <label class="field-label">Conferma Password</label>
          <div class="field-wrap">
            <i class="field-icon fas fa-lock"></i>
            <input class="field-input" type="password" name="password2" id="pw-reg2" placeholder="••••••••" required/>
            <button type="button" class="toggle-pass" onclick="togglePw('pw-reg2',this)"><i class="fas fa-eye"></i></button>
          </div>
        </div>
        <button class="btn-submit" type="submit"><i class="fas fa-user-plus"></i> Crea Account</button>
      </form>
    </div>

  </div>
</div>

<script>
function showPanel(panel) {
  document.getElementById('panel-login').style.display = panel === 'login' ? 'block' : 'none';
  document.getElementById('panel-register').style.display = panel === 'register' ? 'block' : 'none';
  document.getElementById('tab-login').classList.toggle('active', panel === 'login');
  document.getElementById('tab-register').classList.toggle('active', panel === 'register');
}

function togglePw(id, btn) {
  const input = document.getElementById(id);
  const isText = input.type === 'text';
  input.type = isText ? 'password' : 'text';
  btn.innerHTML = isText ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
}
</script>
</body>
</html>